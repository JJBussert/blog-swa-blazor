{
  "scripts": {
    "start": "concurrently \"npm run swa-api\" \"npm run swa-web\" \"npm run swa-db\"",

    "swa-api": "cd Api && func start --csharp",
    "swa-web": "cd Web && dotnet watch run",
    "swa-db": "swa start --data-api-location db",

    "db-reset": "cd Db && dotnet ef database drop -f && dotnet ef database update && dotnet run",
    "db-migrate": "cd Db && dotnet ef migrations add \"$(date +%s)\"",
    "db-update": "cd Db && dotnet ef database update",
    "db-drop": "cd Db && dotnet ef database drop -f",

    "infra-init": "cd Infra && pulumi login file:// && dotenv -e ../.env az login --subscription $AZURE_SUBSCRIPTION_ID && dotenv -e ../.env pulumi stack init dev",
    "infra-up": "cd Infra && dotenv -e ../.env pulumi up",
    "infra-down": "cd Infra && dotenv -e ../.env pulumi destroy"
  },
  "devDependencies": {
    "@azure/static-web-apps-cli": "^1.1.1",
    "@pulumi/pulumi": "^3.61.1",
    "azure-functions-core-tools": "^4.0.5095",
    "concurrently": "^8.0.1",
    "dotenv-cli": "^7.2.1"
  }
}
